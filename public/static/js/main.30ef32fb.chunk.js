(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{192:function(e,t,n){},193:function(e,t,n){},288:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n(29),c=n.n(a),r=(n(192),n(27)),i=n.n(r),o=n(39),l=n(21),u=(n(193),n(78)),j=n.n(u);function b(e,t){var n,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("string"===typeof t&&(t=t.split(".")),!e)return s;for(n=0;n<t.length&&(e=e[t[n]]);n++);return n===t.length?void 0===e?s:e:s}var d=function(e){return e.then((function(e){return[null,e]})).catch((function(e){return[e,null]}))},h="/api/",O=function(e){return function(t){return e?t.data:t}},m=function(e){return function(t){throw 401===b(t,["response","data","code"])&&b(t,"/api/user/validate"!==["response","config","url"])&&(window.location.href="/",localStorage.setItem("rms_token","")),e?t.response.data:t}},f=function(e){return{headers:e}},g=function(e,t){return{get:function(n){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d(j.a.get("".concat(t).concat(n),f(s)).then(O(e)).catch(m(e)))},post:function(n,s){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return d(j.a.post("".concat(t).concat(n),s,f(a)).then(O(e)).catch(m(e)))},put:function(n,s){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return d(j.a.put("".concat(t).concat(n),s,f(a)).then(O(e)).catch(m(e)))},patch:function(n,s){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return d(j.a.patch("".concat(t).concat(n),s,f(a)).then(O(e)).catch(m(e)))},del:function(n){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d(j.a.delete("".concat(t).concat(n),f(s)).then(O(e)).catch(m(e)))},head:function(e,n){return d(j.a.head("".concat(t).concat(e),f(n)).then(O(!1)).catch(m(!1)))}}},p=g(!0,h),x=(g(!1,h),g(!0,""),n(61)),v=n(28),k=n(22),y=n(181),w=n(296),S=n(298),C=n(291),I=n(292),N=n(40),A=n(6),E=function(e){var t=e.children,n=e.title;return Object(A.jsxs)(C.a,{children:[Object(A.jsxs)(I.a,{span:6,offset:9,style:{paddingTop:150},children:[Object(A.jsx)("h1",{style:{textAlign:"center"},children:n}),t]}),Object(A.jsx)(I.a,{span:12,offset:6,children:Object(A.jsx)("img",{src:"/background.jpg",style:{width:"100%"}})})]})},H={labelCol:{span:8},wrapperCol:{span:24}},T={wrapperCol:{span:24}},P=function(){var e=Object(o.a)(i.a.mark((function e(t,n,s){var a,c,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.post("users/login/",t);case 2:if(a=e.sent,c=Object(l.a)(a,2),r=c[0],o=c[1],!r){e.next=8;break}return e.abrupt("return",y.b.error(r.msg||r.error.msg||"Something went wrong"));case 8:y.b.success("User ".concat(o.user.username," has logged in successfully")),localStorage.setItem("auth-token",o.token),s(o.user),o.user.isAdmin?n.push("/admin"):n.push("/user-dashboard");case 12:case"end":return e.stop()}}),e)})));return function(t,n,s){return e.apply(this,arguments)}}(),_=function(e){var t=e.setUser,n=Object(v.g)();return Object(A.jsx)(E,{title:"Welcome",children:Object(A.jsxs)(w.a,Object(k.a)(Object(k.a)({},H),{},{name:"basic",initialValues:{remember:!0},onFinish:function(e){return P(e,n,t)},layout:"vertical",children:[Object(A.jsx)(w.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:Object(A.jsx)(S.a,{placeholder:"enter the username"})}),Object(A.jsx)(w.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(A.jsx)(S.a.Password,{placeholder:"enter the password"})}),Object(A.jsx)(w.a.Item,Object(k.a)(Object(k.a)({},T),{},{children:Object(A.jsxs)(C.a,{children:[Object(A.jsx)(I.a,{span:12,children:Object(A.jsx)(N.a,{type:"primary",htmlType:"submit",block:!0,children:"Login"})}),Object(A.jsx)(I.a,{span:12,children:Object(A.jsx)(x.b,{to:"/signup",children:Object(A.jsx)(N.a,{block:!0,children:"Register"})})})]})}))]}))})},D={labelCol:{span:8},wrapperCol:{span:24}},U={wrapperCol:{span:24}},L=function(){var e=Object(o.a)(i.a.mark((function e(t){var n,s,a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.post("users/",t);case 2:if(n=e.sent,s=Object(l.a)(n,2),a=s[0],c=s[1],!a){e.next=8;break}return e.abrupt("return",y.b.error(a.msg||a.error.msg||"Something went wrong"));case 8:y.b.success("User ".concat(c.newUser.username," has created successfully. please log in"));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){return Object(A.jsx)(E,{title:"Create Account",children:Object(A.jsxs)(w.a,Object(k.a)(Object(k.a)({},D),{},{name:"basic",initialValues:{remember:!0},onFinish:L,layout:"vertical",children:[Object(A.jsx)(w.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:Object(A.jsx)(S.a,{placeholder:"enter a username"})}),Object(A.jsx)(w.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(A.jsx)(S.a.Password,{placeholder:"enter a password"})}),Object(A.jsx)(w.a.Item,Object(k.a)(Object(k.a)({},U),{},{children:Object(A.jsxs)(C.a,{children:[Object(A.jsx)(I.a,{span:12,children:Object(A.jsx)(N.a,{type:"primary",htmlType:"submit",block:!0,children:"Register"})}),Object(A.jsx)(I.a,{span:12,children:Object(A.jsx)(x.b,{to:"/login",children:Object(A.jsx)(N.a,{block:!0,children:"Login"})})})]})}))]}))})},M=n(130),F=n(174),G=n(295),q=n(172),Y=n(173),B=function(){function e(){Object(q.a)(this,e),this.socket=null,this.hooks={}}return Object(Y.a)(e,[{key:"connect",value:function(e,t){var n=this;if(this.socket)return!1;this.socket=new WebSocket("ws://"+window.location.host),this.socket.addEventListener("open",(function(s){console.log("Connected to WS Server");var a=e.isAdmin,c=e.username,r=e._id;n.emitMessage("set_user",{isAdmin:a,username:c,_id:r}),t()})),this.socket.addEventListener("message",(function(e){try{var t=JSON.parse(e.data);n.hooks[t.type]&&n.hooks[t.type](t.payload)}catch(s){console.log("invalid data",s,e.data)}})),this.socket.addEventListener("close",(function(s){console.log("Socket is closed. Reconnect will be attempted in 1 second.",s.reason),n.socket=null,setTimeout((function(){n.connect(e,t)}),1e3)}))}},{key:"emitMessage",value:function(e,t){var n=this;this.socket&&this.socket.readyState===WebSocket.OPEN?this.socket.send(JSON.stringify({type:e,payload:t})):setTimeout((function(){n.emitMessage(e,t)}),500)}},{key:"sendMessage",value:function(e,t,n){this.emitMessage("user_message",{sessionId:t,username:e.username,isAdmin:e.isAdmin,message:n})}},{key:"updatePoints",value:function(e,t){this.emitMessage("update_points",{sessionId:e,points:t})}},{key:"addHook",value:function(e,t){this.hooks[e]=t}}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}]),e}(),R=n(299),z=function(e){var t=e.setSession,n=Object(s.useState)(!0),a=Object(l.a)(n,2),c=a[0],r=a[1],u=localStorage.getItem("auth-token"),j=Object(s.useState)(""),b=Object(l.a)(j,2),d=b[0],h=b[1];return Object(A.jsx)(A.Fragment,{children:Object(A.jsx)(R.a,{title:"Enter a Session Code",visible:c,maskClosable:!1,onOk:Object(o.a)(i.a.mark((function e(){var n,s,a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.get("session/"+d,{token:u});case 2:n=e.sent,s=Object(l.a)(n,2),a=s[0],c=s[1],a?y.b.error("Something went wrong"):c.session?(t(c.session),r(!1)):y.b.info("No found the Session. Please check and retry");case 7:case"end":return e.stop()}}),e)}))),onCancel:function(){return r(!0)},children:Object(A.jsx)(S.a,{value:d,onChange:function(e){return h(e.target.value)}})})})},J=n(71),K=n.n(J),V=null,X=function(e){var t=e.user,n=e.setUser,a=Object(s.useState)(0),c=Object(l.a)(a,2),r=c[0],i=c[1],o=Object(s.useState)(""),u=Object(l.a)(o,2),j=u[0],d=u[1],h=Object(s.useState)(null),O=Object(l.a)(h,2),m=O[0],f=O[1],g=Object(v.g)();return Object(s.useEffect)((function(){t&&((V=B.getInstance()).connect(t,(function(){console.log("websocket connected")})),V.addHook("user_message",(function(e){f(Object(k.a)(Object(k.a)({},m),{},{messages:[].concat(Object(M.a)(m.messages),[e])}))})),V.addHook("changed_points",(function(e){f(Object(k.a)(Object(k.a)({},m),{},{points:e,messages:[]})),i(b(e,[t._id,"value"]))})))}),[t,m]),Object(s.useEffect)((function(){m&&i(b(m,["points",t._id,"value"])),console.log(m)}),[m]),Object(s.useEffect)((function(){var e=document.getElementById("message-list");e&&(e.scrollTop=e.scrollHeight)}),[m]),t?m?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(C.a,{style:{marginTop:100},children:Object(A.jsx)(I.a,{span:4,offset:20,children:Object(A.jsx)(N.a,{onClick:function(){g.push("/"),localStorage.setItem("auth-token",""),n(null)},children:"Logout"})})}),Object(A.jsxs)(C.a,{children:[Object(A.jsx)(I.a,{span:6,offset:9,children:Object(A.jsxs)("p",{style:{textAlign:"center"},children:["Session ID: ",m.id]})}),Object(A.jsx)(I.a,{span:6,offset:9,children:Object(A.jsx)(S.a,{value:t.username,style:{textAlign:"center"}})})]}),Object(A.jsx)(C.a,{style:{marginTop:20},children:Object(A.jsx)(I.a,{span:6,offset:9,children:Object(A.jsx)(S.a,{value:r,style:{textAlign:"center"}})})}),Object(A.jsxs)(C.a,{style:{marginTop:20},children:[Object(A.jsx)(I.a,{span:9,offset:6,children:Object(A.jsx)("div",{style:{minHeight:200,maxHeight:"70vh",overflow:"auto"},id:"message-list",children:m.messages.filter((function(e){var n=e.username;return e.isAdmin||n===t.username})).map((function(e){var t,n,s=e.message,a=e.time;return Object(A.jsx)("div",{style:{border:"1px solid #dddddd",margin:3,padding:5,background:"#f6f6f6"},children:s.startsWith("code-image")?Object(A.jsx)(G.a,{width:300,src:(t=s,n=a,"/questions/image-".concat(t.substring(11),".jpeg?t=").concat(n))}):s},a)}))})}),Object(A.jsx)(I.a,{span:5,offset:1,children:Object.values(m.points||{}).filter((function(e){return!!e.value})).sort((function(e,t){return t.value-e.value})).map((function(e){var t=e.name,n=e.selected,s=e.value;return Object(A.jsxs)(C.a,{children:[Object(A.jsxs)(I.a,{span:8,style:{fontWeight:"bold"},children:[t," :"]}),Object(A.jsx)(I.a,{span:4,children:s}),Object(A.jsxs)(I.a,{span:12,className:"btns d-flex ai-center",children:[Object(A.jsx)("div",{className:n.a&&"selected",children:"2X"}),Object(A.jsx)("div",{className:n.b&&"selected",children:"SWAP"}),Object(A.jsx)("div",{className:n.c&&"selected",children:"DECOY"})]})]})}))})]}),Object(A.jsxs)(C.a,{style:{marginTop:20},children:[Object(A.jsx)(I.a,{span:10,offset:6,children:Object(A.jsx)(S.a,{value:j,onChange:function(e){return d(e.target.value)}})}),Object(A.jsx)(I.a,{span:2,children:Object(A.jsx)(N.a,{style:{marginLeft:5},type:"primary",block:!0,disabled:""===j,onClick:function(){V.sendMessage(t,m.id,j),d("")},children:"SEND"})})]})]}):Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("div",{children:"Select a Session"}),Object(A.jsx)(z,{setSession:f})]}):Object(A.jsx)(F.a,{})},Q=n(293),Z=n(77),$=n(297),ee=n(129),te=n(301),ne=n(185),se=n(294),ae=function(e){var t=e.setSession,n=Object(s.useState)(!0),a=Object(l.a)(n,2),c=a[0],r=a[1],u=localStorage.getItem("auth-token"),j=Object(s.useState)([]),b=Object(l.a)(j,2),d=b[0],h=b[1];return Object(s.useEffect)((function(){Object(o.a)(i.a.mark((function e(){var t,n,s,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.get("session",{token:u});case 2:if(t=e.sent,n=Object(l.a)(t,2),s=n[0],a=n[1],!s){e.next=8;break}return e.abrupt("return",y.b.error(s.msg||s.error.msg||"Something Went Wrong"));case 8:h(a.sessions);case 9:case"end":return e.stop()}}),e)})))()}),[]),Object(A.jsx)(A.Fragment,{children:Object(A.jsx)(R.a,{title:"Select a Session",visible:c,onOk:function(){return r(!0)},onCancel:function(){return r(!0)},maskClosable:!1,children:Object(A.jsx)(se.a,{dataSource:d,columns:[{title:"Started At",dataIndex:"createdAt",render:function(e){return K()(e).format("YYYY-MM-DD  HH:mm")}},{title:"ID",dataIndex:"id"}],pagination:{position:["none","none"]},rowKey:"_id",onRow:function(e){return{onClick:function(){var n=Object(o.a)(i.a.mark((function n(){var s,a,c,o;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,p.get("session/"+e._id,{token:u});case 2:if(s=n.sent,a=Object(l.a)(s,2),c=a[0],o=a[1],!c){n.next=8;break}return n.abrupt("return",y.b.error("Something went wrong"));case 8:t(o.session),r(!1);case 10:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()}}})})})},ce=n(98),re=n(300),ie=n(302),oe=n(303),le=function(e){var t=e.isOnline,n=e.name,a=e.messages,c=e.total,r=e.setSession,i=e.session,o=e.userId,u=e.globalNumber,j=e.triggerGlobalNumber,d=Object(s.useState)({a:!1,b:!1,c:!1}),h=Object(l.a)(d,2),O=h[0],m=h[1],f=Object(s.useState)(0),g=Object(l.a)(f,2),p=g[0],x=g[1],v=Object(s.useState)("white"),y=Object(l.a)(v,2),w=y[0],S=y[1];Object(s.useEffect)((function(){x(u),S("white")}),[j]);var C=function(e,t){r(Object(k.a)(Object(k.a)({},i),{},{points:Object(k.a)(Object(k.a)({},i.points),{},Object(ce.a)({},t,{value:e,selected:O,name:n}))}))};return Object(s.useEffect)((function(){r(Object(k.a)(Object(k.a)({},i),{},{points:Object(k.a)(Object(k.a)({},i.points),{},Object(ce.a)({},o,Object(k.a)(Object(k.a)({},b(i,["points",o])),{},{selected:O})))}))}),[O]),Object(A.jsx)(I.a,{span:12,children:Object(A.jsxs)("div",{className:"user-area d-flex",children:[Object(A.jsxs)("div",{className:"names",children:[Object(A.jsxs)("div",{className:"name",children:[Object(A.jsx)(re.a,{status:t?"success":"warning"}),n]}),Object(A.jsxs)("div",{className:"points",children:[Object(A.jsx)($.a,{value:p,onChange:x,controls:!0,style:{maxWidth:50,marginRight:5},min:0}),Object(A.jsx)(N.a,{icon:Object(A.jsx)(ie.a,{}),size:"small",onClick:function(){C((c||0)+p,o),S("#00d000")}}),Object(A.jsx)(N.a,{icon:Object(A.jsx)(oe.a,{}),size:"small",onClick:function(){C((c||0)-p,o),S("#fd7777")}})]})]}),Object(A.jsx)("div",{className:"total",style:{background:w},children:c}),Object(A.jsx)("div",{className:"message msg-list-to-scroll",children:a.map((function(e){var t=e.message,n=e.time;return Object(A.jsxs)("div",{className:"message-box",children:["(",K()(n).format("HH:mm:ss"),") ",t]},n)}))}),Object(A.jsxs)("div",{className:"d-flex f-col btns",children:[Object(A.jsx)("div",{className:O.a?"selected":"",onClick:function(){return m(Object(k.a)(Object(k.a)({},O),{},{a:!O.a}))},children:"2X"}),Object(A.jsx)("div",{className:O.b?"selected":"",onClick:function(){return m(Object(k.a)(Object(k.a)({},O),{},{b:!O.b}))},children:"SWAP"}),Object(A.jsx)("div",{className:O.c?"selected":"",onClick:function(){return m(Object(k.a)(Object(k.a)({},O),{},{c:!O.c}))},children:"DECOY"})]})]})})},ue=Q.a.Header,je=Q.a.Content,be=Q.a.Footer,de=null,he=function(e){var t=e.session,n=e.setSession,a=e.onLogout,c=Object(s.useState)(!1),r=Object(l.a)(c,2),u=r[0],j=r[1],b=Object(s.useState)(Object(ne.a)(6)),d=Object(l.a)(b,2),h=d[0],O=d[1],m=localStorage.getItem("auth-token"),f=function(){var e=Object(o.a)(i.a.mark((function e(){var t,s,a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.post("session",{id:h},{token:m});case 2:if(t=e.sent,s=Object(l.a)(t,2),a=s[0],c=s[1],!a){e.next=8;break}return e.abrupt("return",y.b.error(a.msg||a.error.msg||"Something Went Wrong"));case 8:y.b.success("Game Create with Game ID: ".concat(h)),y.b.info("Please share this game ID with others to join"),n(c.newSession),j(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(A.jsxs)(Z.a,{theme:"dark",mode:"horizontal",selectedKeys:[],selectable:!1,children:[Object(A.jsx)(Z.a.Item,{onClick:function(){return j(!0)},children:"Create A New Game"},1),Object(A.jsx)(Z.a.Item,{style:{float:"right"},onClick:a,children:"Logout"},3),Object(A.jsxs)(Z.a.Item,{style:{float:"right"},children:["key: ",t&&t.id||"N/A"]},2),Object(A.jsx)(R.a,{title:"Create A New Game",visible:u,onOk:f,onCancel:function(){return j(!1)},children:Object(A.jsx)(S.a,{value:h,onChange:function(e){return O(e.target.value)}})})]})},Oe=function(e){var t=e.user,n=e.setUser,a=localStorage.getItem("auth-token"),c=Object(v.g)(),r=Object(s.useState)(null),u=Object(l.a)(r,2),j=u[0],d=u[1],h=Object(s.useState)("none"),O=Object(l.a)(h,2),m=O[0],f=O[1],g=Object(s.useState)([]),x=Object(l.a)(g,2),w=x[0],E=x[1],H=Object(s.useState)([]),T=Object(l.a)(H,2),P=T[0],_=T[1],D=Object(s.useState)(0),U=Object(l.a)(D,2),L=U[0],W=U[1],F=Object(s.useState)(!1),G=Object(l.a)(F,2),q=G[0],Y=G[1];t&&!t.isAdmin&&(c.push("/"),y.b.error("Access Denied"),n(null)),Object(s.useEffect)((function(){t&&((de=B.getInstance()).connect(t,(function(){console.log("websocket connected")})),de.addHook("user_message",(function(e){d(Object(k.a)(Object(k.a)({},j),{},{messages:[].concat(Object(M.a)(j.messages),[e])}))})),de.addHook("user_changed",(function(e){E(e)})))}),[t,j]),Object(s.useEffect)((function(){Object(o.a)(i.a.mark((function e(){var t,n,s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.get("users/all-users",{token:a});case 2:if(t=e.sent,n=Object(l.a)(t,2),s=n[0],c=n[1],!s){e.next=8;break}return e.abrupt("return",y.b.error("Something went wrong, please refresh the page"));case 8:_(c.users);case 9:case"end":return e.stop()}}),e)})))()}),[]),Object(s.useEffect)((function(){for(var e=document.getElementById("message-list"),t=document.getElementsByClassName("msg-list-to-scroll"),n=0;n<t.length;n++){var s=t[n];s.scrollTop=s.scrollHeight}e&&(e.scrollTop=e.scrollHeight)}),[j]);var R=Object(s.useState)(""),z=Object(l.a)(R,2),J=z[0],V=z[1],X={},Z=[];j&&j.messages.forEach((function(e){var t={message:e.message,time:e.time};if(e.isAdmin)Z.push(t);else{var n=X[e.isAdmin?"admin":e.username];n?n.push(t):X[e.isAdmin?"admin":e.username]=[t]}}));var ne=w.reduce((function(e,t){return e[t.username]=!0,e}),{}),se=P.reduce((function(e,t){return e[t.username]=t,e}),{});return Object(A.jsxs)(Q.a,{style:{height:"100vh"},children:[Object(A.jsxs)(ue,{style:{position:"fixed",zIndex:1,width:"100%"},children:[Object(A.jsx)("div",{className:"logo"}),Object(A.jsx)(he,{setSession:d,session:j,onLogout:function(){c.push("/"),localStorage.setItem("auth-token",""),n(null)}})]}),Object(A.jsx)(je,{className:"site-layout",style:{padding:"0 50px",marginTop:64},children:Object(A.jsx)("div",{className:"site-layout-background",style:{padding:24,minHeight:380},children:j&&Object(A.jsxs)("div",{children:[Object(A.jsx)(C.a,{children:P&&P.filter((function(e){return!e.isAdmin})).map((function(e){var t=e.username,n=e._id;return Object(A.jsx)(le,{total:b(j,["points",n,"value"]),userId:b(se,[t,"_id"]),name:t,isOnline:ne[t],messages:X[t]||[],session:j,setSession:d,triggerGlobalNumber:q,globalNumber:L},t)}))}),Object(A.jsxs)(C.a,{children:[Object(A.jsxs)(I.a,{span:6,children:[Object(A.jsx)($.a,{value:L,onChange:W}),Object(A.jsx)(N.a,{onClick:function(){Y(!q)},children:"SET"})]}),Object(A.jsxs)(I.a,{span:18,align:"end",children:[Object(A.jsxs)(ee.a.Group,{onChange:function(e){f(e.target.value)},value:m,children:[Object(A.jsx)(ee.a,{value:"none",children:"None"}),Array(10).fill({}).map((function(e,t){return Object(A.jsx)(te.a,{destroyTooltipOnHide:!0,content:function(){return Object(A.jsx)("img",{width:300,src:"/questions/image-".concat(t+1,".jpeg?t=").concat(Date.now())})},children:Object(A.jsx)(ee.a,{value:t+1,children:t+1})},t)}))]}),Object(A.jsx)(N.a,{onClick:function(){de.sendMessage(t,j.id,"code-image-".concat(m))},children:"SEND IMAGE"})]})]}),Object(A.jsx)(I.a,{span:24,justify:"space-between",children:Object(A.jsxs)(C.a,{style:{marginTop:20},children:[Object(A.jsx)(I.a,{span:20,style:{height:50,overflow:"auto"},className:"msg-list msg-list-to-scroll",children:Z.map((function(e){return Object(A.jsxs)("div",{className:"message-box",children:["(",K()(e.time).format("HH:mm:ss"),")"," ",e.message.startsWith("code-image")?"[IMAGE]":e.message]},e.time)}))}),Object(A.jsx)(I.a,{span:20,children:Object(A.jsx)(S.a,{value:J,onChange:function(e){return V(e.target.value)}})}),Object(A.jsx)(I.a,{span:4,children:Object(A.jsxs)(C.a,{children:[Object(A.jsx)(I.a,{span:12,children:Object(A.jsx)(N.a,{style:{marginLeft:5},block:!0,type:"primary",disabled:""===J,onClick:function(){de.sendMessage(t,j.id,J),V("")},children:"SEND"})}),Object(A.jsx)(I.a,{span:12,children:Object(A.jsx)(N.a,{style:{marginLeft:5},block:!0,onClick:function(){Y(!q),de.updatePoints(j.id,j.points),d(Object(k.a)(Object(k.a)({},j),{},{messages:[]}))},children:"UPDATE"})})]})})]})})]})})}),Object(A.jsx)(be,{style:{textAlign:"center"}}),!j&&Object(A.jsx)(ae,{setSession:d})]})},me=function(e){var t=e.user,n=e.setUser;return Object(A.jsx)(x.a,{children:Object(A.jsxs)(v.d,{children:[Object(A.jsx)(v.b,{path:"/home",children:Object(A.jsx)(_,{user:t,setUser:n})}),Object(A.jsx)(v.b,{path:"/signup",children:Object(A.jsx)(W,{user:t,setUser:n})}),Object(A.jsx)(v.b,{path:"/admin",children:Object(A.jsx)(Oe,{user:t,setUser:n})}),Object(A.jsx)(v.b,{path:"/user-dashboard",children:Object(A.jsx)(X,{user:t,setUser:n})}),Object(A.jsx)(v.b,{path:"/",children:Object(A.jsx)(v.a,{to:"/home"})})]})})};var fe=function(){var e=Object(s.useState)(!1),t=Object(l.a)(e,2),n=(t[0],t[1]),a=Object(s.useState)(null),c=Object(l.a)(a,2),r=c[0],u=c[1],j=localStorage.getItem("auth-token")||"";return Object(s.useEffect)((function(){Object(o.a)(i.a.mark((function e(){var t,s,a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.next=3,p.get("users/validate",{token:j});case 3:t=e.sent,s=Object(l.a)(t,2),a=s[0],c=s[1],u(a?null:c.user),n(!1);case 9:case"end":return e.stop()}}),e)})))()}),[]),Object(A.jsx)("div",{className:"App",children:Object(A.jsx)(me,{user:r,setUser:u})})},ge=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,304)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),s(e),a(e),c(e),r(e)}))};c.a.render(Object(A.jsx)(fe,{}),document.getElementById("root")),ge()}},[[288,1,2]]]);